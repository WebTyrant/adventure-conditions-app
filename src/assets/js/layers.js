import moment from 'moment';

// Import the URL to an image file
import cameraPointURL from '../images/video-solid.png';
import firePointURL from '../images/fire-solid.png';
import buildingPointURL from '../images/building-solid.png';

export const navigationDefinitions = [
  {
    isGroupControl: true,
    id: 'fire-perimeters',
    active: true,
    // icon: '<span class="fa-stack"><i class="fire-perimeter-fill fas fa-fire fa-fw fa-stack-2x"></i><i class="fire-perimeter fal fa-fire fa-fw fa-stack-2x"></i></span>',
    icon: 'fas fa-search',
    label: 'All Fire Perimiters',
    loadState: '',
    navigation: true,
  },
  {
    isGroupControl: false,
    id: 'bc-active-fire-perimeters',
    groupControlId: 'fire-perimeters',
    active: true,
    opacity: 1,
    // icon: '<span class="fa-stack"><i class="fire-perimeter-fill fas fa-fire fa-fw fa-stack-2x"></i><i class="fire-perimeter fal fa-fire fa-fw fa-stack-2x"></i></span>',
    icon: 'map',
    label: 'BC Fire Perimeters',
    loadState: '',
    navigation: true,
  },
  {
    isGroupControl: false,
    id: 'us-active-fire-perimeters',
    groupControlId: 'fire-perimeters',
    active: true,
    opacity: 1,
    icon: '<span class="fa-stack"><i class="fire-perimeter-fill fas fa-fire fa-fw fa-stack-2x"></i><i class="fire-perimeter fal fa-fire fa-fw fa-stack-2x"></i></span>',
    label: 'US Fire Perimeters',
    loadState: '',
    navigation: true,
  },
  {
    isGroupControl: true,
    id: 'fire-points',
    active: true,
    icon: '<i class="fire-point fas fa-fire fa-fw fa-2x"></i>',
    label: 'All Fire Points',
    loadState: '',
    navigation: true,
  },
  {
    isGroupControl: false,
    id: 'bc-active-fire-points',
    groupControlId: 'fire-points',
    active: true,
    opacity: 1,
    icon: '<i class="fire-point fas fa-fire fa-fw fa-2x"></i>',
    label: 'BC Fire Points',
    loadState: '',
    navigation: true,
  },
  {
    isGroupControl: false,
    id: 'ab-active-fire-points',
    groupControlId: 'fire-points',
    active: true,
    opacity: 1,
    icon: '<i class="fire-point fas fa-fire fa-fw fa-2x"></i>',
    label: 'AB Fire Points',
    loadState: '',
    navigation: true,
  },
  {
    isGroupControl: false,
    id: 'us-large-fire-points',
    groupControlId: 'fire-points',
    active: true,
    opacity: 1,
    icon: '<i class="fire-point fas fa-fire fa-fw fa-2x"></i>',
    label: 'US Fire Points',
    loadState: '',
    navigation: true,
  },
  {
    isGroupControl: false,
    id: 'modis-satellite',
    groupControlId: 'fire-points',
    active: true,
    opacity: 1,
    icon: '<span class="fa-stack"><i class="modis-fill fas fa-circle fa-fw fa-stack-2x"></i><i class="modis-perimeter fal fa-circle fa-fw fa-stack-2x"></i></span>',
    label: 'Satellite Fire Sensor',
    loadState: '',
    navigation: true,
  },
  {
    isGroupControl: false,
    id: 'ospo-noaa-smoke',
    active: false,
    opacity: 1,
    icon: '<i class="ospo-noaa-smoke fas fa-cloud fa-fw fa-2x"></i>',
    label: 'OSPO NOAA Smoke Live',
    loadState: '',
    navigation: true,
  },
  {
    isGroupControl: false,
    id: 'nws-experimental-smoke',
    active: true,
    opacity: 0.5,
    icon: '<i class="nws-experimental-smoke fas fa-cloud fa-fw fa-2x"></i>',
    label: 'Experimental NWS Smoke',
    loadState: '',
    navigation: true,
  },
  {
    isGroupControl: false,
    id: 'world-air-quality',
    active: false,
    opacity: 1,
    icon: '<i class="traffic fas fa-lungs fa-fw fa-2x"></i>',
    label: 'Realtime World Air Quality',
    loadState: '',
    navigation: true,
  },
  {
    isGroupControl: false,
    id: 'cdn-current-weather',
    active: false,
    opacity: 1,
    icon: '<i class="current-weather fas fa-sun fa-fw fa-2x"></i>',
    label: 'Cdn Current Weather',
    loadState: '',
    navigation: true,
  },
  {
    isGroupControl: true,
    id: 'traffic-cameras',
    active: false,
    icon: '<i class="traffic-camera fas fa-video fa-fw fa-2x"></i>',
    label: 'Traffic Cameras',
    loadState: '',
    navigation: true,
  },

  {
    isGroupControl: false,
    id: 'bc-traffic-cameras',
    groupControlId: 'traffic-cameras',
    active: false,
    opacity: 1,
    icon: '<i class="traffic-camera fas fa-video fa-fw fa-2x"></i>',
    label: 'BC Cameras',
    loadState: '',
    navigation: false,
  },
  {
    isGroupControl: false,
    id: 'idt-cameras',
    groupControlId: 'traffic-cameras',
    active: false,
    opacity: 1,
    icon: '<i class="traffic-camera fas fa-video fa-fw fa-2x"></i>',
    label: 'Idaho Cameras',
    loadState: '',
    navigation: false,
  },
  {
    isGroupControl: false,
    id: 'wsdot-cameras',
    groupControlId: 'traffic-cameras',
    active: false,
    opacity: 1,
    icon: '<i class="traffic-camera fas fa-video fa-fw fa-2x"></i>',
    label: 'Washington Cameras',
    loadState: '',
    navigation: false,
  },
  {
    isGroupControl: false,
    id: 'odot-cameras',
    groupControlId: 'traffic-cameras',
    active: false,
    opacity: 1,
    icon: '<i class="traffic-camera fas fa-video fa-fw fa-2x"></i>',
    label: 'Oregon Cameras',
    loadState: '',
    navigation: false,
  },
  {
    isGroupControl: false,
    id: 'caltrans-cameras',
    groupControlId: 'traffic-cameras',
    active: false,
    style: 'highwaycams',
    opacity: 1,
    icon: '<i class="traffic-camera fas fa-video fa-fw fa-2x"></i>',
    label: 'California Cameras',
    loadState: '',
    navigation: false,
  },

  {
    isGroupControl: false,
    id: 'berkley-earth-air-quality',
    active: true,
    opacity: 0.25,
    icon: '<i class="air-quality fas fa-cloud fa-fw fa-2x"></i>',
    label: 'Berkley Earth Air Quality',
    loadState: '',
    navigation: true,
  },
  {
    isGroupControl: false,
    id: 'canadian-fire-danger',
    serverType: 'geoserver',
    active: false,
    opacity: 0.25,
    icon: '<span class="fa-stack"><i class="fire-point fas fa-fire fa-fw fa-stack-2x"></i><i class="fire-perimeter fas fa-exclamation fa-fw fa-stack-1x"></i></span>',
    label: 'Cdn Fire Danger',
    loadState: '',
    navigation: true,
  },
  {
    isGroupControl: false,
    id: 'us-fire-danger',
    active: false,
    opacity: 0.25,

    icon: '<i class="Lightning fas fa-bolt fa-fw fa-2x"></i>',
    label: 'US Fire Danger',
    loadState: '',
    navigation: true,
  },
  {
    isGroupControl: false,
    id: 'noaa-radar',
    active: true,
    opacity: 0.75,

    icon: '<i class="noaa-radar fas fa-tint fa-fw fa-2x"></i>',
    label: 'NOAA Weather Radar',
    loadState: '',
    navigation: true,
  },
  {
    isGroupControl: false,
    id: 'emulated-lightning-density',
    active: false,
    opacity: 1,
    icon: '<i class="emulated-lightning-density fas fa-bolt fa-fw fa-2x"></i>',
    label: 'Lightning Density',
    loadState: '',
    navigation: true,
  },
  {
    isGroupControl: false,
    id: 'wind-conditions',
    active: false,
    opacity: 0.75,
    icon: '<span class="fa-stack fa-lg">' +
          '<i class="fas fa-cloud fa-fw fa-stack-2x 2x"></i>' +
          '<i class="fas fa-arrow-right fa-fw fa-stack-1x" style="color: #ffffff"></i>' +
          '</span>',
    label: 'Wind Speed & Direction',
    loadState: '',
    navigation: true,
  },
  {
    isGroupControl: false,
    id: 'here-live-traffic',
    active: true,
    opacity: 1,
    icon: '<i class="traffic fas fa-route fa-fw fa-2x"></i>',
    label: 'HERE Live Traffic',
    loadState: '',
    navigation: true,
  },
];

export const layerDefinitions = [
  {
    siteTags: ['bcfiremap', 'adventureconditions'],
    id: 'cdn-current-weather',
    type: 'imagewms',
    endpoint: 'http://geo.weather.gc.ca/geomet?VERSION=1.3.0',
    params: {
      'SERVICE': 'WMS',
      'VERSION': '1.3.0',
      'LAYERS': 'CURRENT_CONDITIONS',
      'FORMAT': 'image/png',
      'TRANSPARENT': 'TRUE',
      'CRS': 'EPSG:3857',
    },
    ratio: 1,
    visible: false,
    opacity: 1,
  },
  {
    siteTags: ['bcfiremap', 'adventureconditions', 'crisisconditions'],
    id: 'bc-active-fire-perimeters',
    type: 'geojson',
    // endpoint: 'https://services6.arcgis.com/ubm4tcTYICKBpist/arcgis/rest/services/BCWS_FirePerimeters_PublicView/FeatureServer/0/query?where=FIRE_STATUS+%3C%3E+%27Not+Active%27&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=*&returnGeometry=true&returnCentroid=false&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=&datumTransformation=&applyVCSProjection=false&returnIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&returnDistinctValues=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=&returnZ=false&returnM=false&returnExceededLimitFeatures=true&quantizationParameters=&sqlFormat=none&f=geojson',
    endpoint: 'https://plume-api.now.sh/simplifygeojson/https://services6.arcgis.com/ubm4tcTYICKBpist/arcgis/rest/services/BCWS_FirePerimeters_PublicView/FeatureServer/0/query?where=FIRE_STATUS+%3C%3E+%27Not+Active%27&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=*&returnGeometry=true&returnCentroid=false&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=&datumTransformation=&applyVCSProjection=false&returnIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&returnDistinctValues=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=&returnZ=false&returnM=false&returnExceededLimitFeatures=true&quantizationParameters=&sqlFormat=none&f=geojson&tolerance=250',
    oStroke: {
      color: [255, 0, 0, 1],
      width: 2,
    },
    oFill: {
      color: [255, 165, 0, 0.7],
    },
    visible: true,
    opacity: 1,
    label: 'FIRE_OF_NOTE_NAME',
    popup: {
      title: 'Active Fire Perimeter',
      fields: {
        'Fire of Note Name': 'FIRE_OF_NOTE_NAME',
        'Geographic Discription': 'GEOGRAPHIC_DESCRIPTION',
        'Fire Status': 'FIRE_STATUS',
        'Fire Number': 'FIRE_NUMBER',
        'Current Size': 'CURRENT_SIZE',
        'Fire Size (Hectares)': 'FIRE_SIZE_HECTARES',
        'Track Date': 'TRACK_DATE',
        'Load Date': 'LOAD_DATE',
      },
    },
  },
  {
    siteTags: ['adventureconditions', 'crisisconditions'],
    id: 'us-active-fire-perimeters',
    type: 'geojson',
    endpoint: 'https://plume-api.now.sh/simplifygeojson/https://rmgsc-haws2.cr.usgs.gov/arcgis/rest/services/geomac_fires/MapServer/2/query?where=active+%3D+%27Y%27&text=&objectIds=&time=&geometry=-18631848.101007503%252C725135.0462942608%252C-5345258.096368558%252C11888610.153284714&geometryType=esriGeometryEnvelope&inSR=102100&spatialRel=esriSpatialRelContains&relationParam=&outFields=*&returnGeometry=true&returnTrueCurves=false&maxAllowableOffset=&geometryPrecision=&outSR=102100&returnIdsOnly=false&returnCountOnly=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&returnZ=false&returnM=false&gdbVersion=&returnDistinctValues=false&resultOffset=&resultRecordCount=&queryByDistance=&returnExtentsOnly=false&datumTransformation=&parameterValues=&rangeValues=&f=geojson&tolerance=50',
    oStroke: {
      color: [255, 0, 0, 1],
      width: 2,
    },
    oFill: {
      color: [255, 165, 0, 0.7],
    },
    visible: true,
    opacity: 1,
    label: 'incidentname',
    popup: {
      title: 'Active Fire Perimeter',
      fields: {
        'Incident Name': 'incidentname',
        'Fire ID': 'uniquefireidentifier',
        'Complex Name': 'complexname',
        'Mapping Method': 'mapmethod',
        'Acres Size': 'gisacres',
        'State': 'state',
      },
    },
  },
  {
    siteTags: ['bcfiremap', 'adventureconditions', 'crisisconditions'],
    id: 'bc-active-fire-points',
    type: 'geojson',
    endpoint: 'https://services6.arcgis.com/ubm4tcTYICKBpist/arcgis/rest/services/BCWS_ActiveFires_PublicView/FeatureServer/0/query?where=FIRE_STATUS+%3C%3E+%27Not+Active%27&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelEnvelopeIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=*&returnGeometry=true&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=&datumTransformation=&applyVCSProjection=false&returnIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&returnDistinctValues=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=&returnZ=false&returnM=false&returnExceededLimitFeatures=true&quantizationParameters=&sqlFormat=none&f=pgeojson&token=',
    // style: 'firepoint',
    oImageOptions: {
      anchor: [0.5, 17],
      anchorXUnits: 'fraction',
      anchorYUnits: 'pixels',
      src: firePointURL,
    },
    visible: true,
    opacity: 1,
    label: 'GEOGRAPHIC_DESCRIPTION',
    popup: {
      title: 'Active Fire Point',
      fields: {
        'Fire Name': 'FIRE_OF_NOTE_NAME',
        'Geographic Discription': 'GEOGRAPHIC_DESCRIPTION',
        'Fire Status': 'FIRE_STATUS',
        'Fire Cause': 'FIRE_CAUSE',
        'Ignition Date': 'IGNITION_DATE',
        'Fire Identifier': 'FIRE_NUMBER',
        'Current Size (hectares)': 'CURRENT_SIZE',
      },
    },
  },
  {
    siteTags: ['adventureconditions', 'crisisconditions'],
    id: 'ab-active-fire-points',
    type: 'esrijson',
    endpoint: 'https://maps.alberta.ca/genesis/rest/services/Wildfire_Status_Web_Map/Latest/MapServer/0/query?where=1%3D1&text=&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&relationParam=&outFields=*&returnGeometry=true&returnTrueCurves=false&maxAllowableOffset=&geometryPrecision=&outSR=102100&returnIdsOnly=false&returnCountOnly=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&returnZ=false&returnM=false&gdbVersion=&returnDistinctValues=false&resultOffset=&resultRecordCount=&f=pjson',
    // style: 'firepoint',
    oImageOptions: {
      anchor: [0.5, 17],
      anchorXUnits: 'fraction',
      anchorYUnits: 'pixels',
      src: firePointURL,
    },
    visible: true,
    opacity: 1,
    label: 'GEOGRAPHIC_DESCRIPTION',
    popup: {
      title: 'Active Fire Point',
      fields: {
        'Fire Identifier': 'FIRE_NUMBER',
        'Geographic Discription': 'GEOGRAPHIC_DESCRIPTION',
        'Fire Status': 'FIRE_STATUS',
        'Fire Cause': 'GENERAL_CAUSE',
        'Ignition Date': 'IGNITION_DATE',
        'Current Size (hectares)': 'AREA_ESTIMATE',
      },
    },
  },
  {
    siteTags: ['adventureconditions', 'crisisconditions'],
    id: 'us-large-fire-points',
    type: 'geojson',
    endpoint: 'https://rmgsc-haws2.cr.usgs.gov/arcgis/rest/services/geomac_fires/MapServer/1/query?where=&text=&objectIds=&time=&geometry=-18631848.101007503%252C725135.0462942608%252C-5345258.096368558%252C11888610.153284714&geometryType=esriGeometryEnvelope&inSR=102100&spatialRel=esriSpatialRelContains&relationParam=&outFields=*&returnGeometry=true&returnTrueCurves=false&maxAllowableOffset=&geometryPrecision=&outSR=102100&returnIdsOnly=false&returnCountOnly=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&returnZ=false&returnM=false&gdbVersion=&returnDistinctValues=false&resultOffset=&resultRecordCount=&queryByDistance=&returnExtentsOnly=false&datumTransformation=&parameterValues=&rangeValues=&f=geojson',
    // style: 'firepoint',
    oImageOptions: {
      anchor: [0.5, 17],
      anchorXUnits: 'fraction',
      anchorYUnits: 'pixels',
      src: firePointURL,
    },
    visible: true,
    opacity: 1,
    label: 'GEOGRAPHIC_DESCRIPTION',
    popup: {
      title: 'US Large Fire Point',
      fields: {
        'Fire Name': 'incidentname',
        'Percentage Contained': 'percentcontained',
        'Fire Cause': 'firecause',
        'Fire Identifier': 'uniquefireidentifier',
        'Current Size (acres)': 'acres',
      },
    },
  },
  {
    siteTags: ['bcfiremap', 'adventureconditions', 'crisisconditions'],
    id: 'modis-satellite',
    type: 'geojson',
    endpoint: 'https://wildfire.cr.usgs.gov/arcgis/rest/services/geomac_fires/MapServer/3/query?where=load_stat%3D%27Active+Burning%27++OR+load_stat%3D%27Last+12-24+hrs%27+OR+load_stat%3D%27Last+24-48+hrs%27&text=&objectIds=&time=&geometry=-15464286.158429246%2C5897585.730705328%2C-12589206.644992914%2C8575781.652083585&geometryType=esriGeometryEnvelope&inSR=102100&spatialRel=esriSpatialRelIntersects&relationParam=&outFields=*&returnGeometry=true&returnTrueCurves=false&maxAllowableOffset=&geometryPrecision=&outSR=102100&returnIdsOnly=false&returnCountOnly=false&orderByFields=load_stat&groupByFieldsForStatistics=&outStatistics=&returnZ=false&returnM=false&gdbVersion=&returnDistinctValues=false&resultOffset=&resultRecordCount=&queryByDistance=&returnExtentsOnly=false&datumTransformation=&parameterValues=&rangeValues=&f=geojson',
    style: 'modis',
    visible: true,
    opacity: 1,
    popup: {
      title: 'MODIS NASA/NOAA Satellite Hotspot Detection',
      note: 'A ~1km hotspot has been detected at this location. Multiple overlapping hotspots are joined, and may indicate the leading edge of a fire.',
      fields: {
        'Status': 'load_stat',
      },
    },
  },
  // source url: https://www.ospo.noaa.gov/Products/land/hms.html
  {
    siteTags: ['bcfiremap', 'adventureconditions'],
    id: 'ospo-noaa-smoke',
    type: 'geojson',
    dataProjection: 'EPSG:4326',
    endpoint: 'https://plume-api.now.sh/kmltogeojson/https://www.ospo.noaa.gov/data/land/fire/smoke.kml',
    visible: false,
    style: 'ospoNoaaSmoke',
    opacity: 1,
    popup: {
      title: 'OSPO NOAA Smoke',
      note: 'Created and updated by a satellite analyst between 8am and 10am Eastern Time. After 10am, the analysis is fine-tuned as time permits as additional satellite data becomes available.',
      fields: {
        'Description': 'description',
      },
    },
  },
  {
    siteTags: ['bcfiremap', 'adventureconditions'],
    id: 'nws-experimental-smoke',
    type: 'arcgisrestmapeserver',
    endpoint: 'https://utility.arcgis.com/usrsvcs/servers/668c6a41fd184984a49caee8f759654d/rest/services/LiveFeeds/NDGD_SmokeForecast/MapServer/',
    params: {
      'layers': 'show:0',
      'dpi': 96,
      'transparent': true,
      'format': 'png32',
      'time': `${(Math.floor(moment() / 3600000)) * 3600000},${(Math.floor(moment().add('4','h') / 3600000)) * 3600000}`,
      'imageSR': '102100',
    },
    ratio: 1.5,
    visible: true,
    opacity: 0.5,
  },
  {
    siteTags: ['bcfiremap', 'adventureconditions'],
    id: 'world-air-quality',
    type: 'xyz',
    endpoint: 'https://tiles.waqi.info/tiles/usepa-aqi/{z}/{x}/{y}.png?' +
              'token=814c13027adaacd8f20999baebc56c07eeda183e',
    visible: false,
    opacity: 1,
  },
  {
    siteTags: ['bcfiremap', 'adventureconditions'],
    id: 'bc-traffic-cameras',
    type: 'geojson',
    endpoint: 'https://services5.arcgis.com/DMpNrZXwcnMmkWrW/arcgis/rest/services/BC_HighwayCams/FeatureServer/0/query?where=&objectIds=&time=&geometry=-14709312.23546%2C+6171605.41945905%2C+-12789524.9063483%2C+8399302.6434706&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=*&returnGeometry=true&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=&datumTransformation=&applyVCSProjection=false&returnIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&returnDistinctValues=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=&returnZ=false&returnM=false&returnExceededLimitFeatures=true&quantizationParameters=&sqlFormat=none&f=pgeojson&token=',
    style: 'highwaycams',
    visible: false,
    opacity: 1,
    popup: {
      title: 'BC Highway Camera',
      image: 'links_imageDisplay',
      link: 'links_bchighwaycam',
      fields: {
        'Caption': 'caption',
        'Name': 'camName',
        'Highway': 'highway_number',
        'Description': 'highway_locationDescription',
      },
    },
  },
  {
    siteTags: ['adventureconditions'],
    id: 'idt-cameras',
    type: 'esrijson',
    endpoint: 'https://navigator.state.or.us/arcgis/rest/services/Projects/Prep_TransCams/MapServer/3/query?where=1%3D1&text=&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&relationParam=&outFields=*&returnGeometry=true&maxAllowableOffset=&geometryPrecision=&outSR=102100&returnIdsOnly=false&returnCountOnly=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&returnZ=false&returnM=false&gdbVersion=&returnDistinctValues=false&returnTrueCurves=false&resultOffset=&resultRecordCount=&f=json',
    visible: false,
    style: 'highwaycams',
    opacity: 1,
    popup: {
      title: 'Idaho Department of Transport Camera',
      image: 'url',
      fields: {
        'Title': 'device_name',
        'Description': 'name',
        'Route': 'route_designator',
      },
      // html: 'description',
    },
  },
  {
    siteTags: ['adventureconditions'],
    id: 'wsdot-cameras',
    type: 'esrijson',
    endpoint: 'https://navigator.state.or.us/arcgis/rest/services/Projects/Prep_TransCams/MapServer/1/query?where=1%3D1&text=&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&relationParam=&outFields=*&returnGeometry=true&maxAllowableOffset=&geometryPrecision=&outSR=102100&returnIdsOnly=false&returnCountOnly=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&returnZ=false&returnM=false&gdbVersion=&returnDistinctValues=false&returnTrueCurves=false&resultOffset=&resultRecordCount=&f=json',
    visible: false,
    style: 'highwaycams',
    opacity: 1,
    popup: {
      title: 'Washington Highway Camera',
      image: 'cctv_url',
      fields: {
        'Title': 'Name',
      },
      // html: 'description',
    },
  },
  {
    siteTags: ['adventureconditions'],
    id: 'odot-cameras',
    type: 'esrijson',
    endpoint: 'https://plume-api.now.sh/proxy/https://tripcheck.com/Scripts/map/data/cctvinventory.js?dt=1535581365754',
    visible: false,
    style: 'highwaycams',
    opacity: 1,
    popup: {
      title: 'ODOT Camera',
      image: 'filename',
      fields: {
        'Title': 'title',
        'Route': 'route',
      },
      // html: 'description',
    },
  },
  {
    siteTags: ['adventureconditions'],
    id: 'caltrans-cameras',
    type: 'geojson',
    endpoint: 'https://plume-api.now.sh/kmltogeojson/http://quickmap.dot.ca.gov/data/cctv.kml',
    dataProjection: 'EPSG:4326',
    visible: false,
    style: 'highwaycams',
    opacity: 1,
    popup: {
      title: 'Caltrans Camera',
      html: 'description',
    },
  },
  {
    siteTags: ['bcfiremap', 'adventureconditions'],
    id: 'berkley-earth-air-quality',
    type: 'xyz',
    endpoint: `http://berkeleyearth.lbl.gov/air-quality/maps/hour/${moment().format('YYYYMM')}/${moment().startOf('h').subtract('4', 'h').format('YYYYMMDDHH')}/tiles/health/{z}/{x}/{y}.png`,
    visible: true,
    opacity: 0.25,
  },
  {
    siteTags: ['bcfiremap', 'adventureconditions'],
    id: 'canadian-fire-danger',
    type: 'imagewms',
    endpoint: 'http://cwfis.cfs.nrcan.gc.ca/geoserver/public/wms?VERSION=1.3.0&SERVICE=WMS',
    params: {
      'LAYERS': `public:fdr${moment().format('YYYYMMDD')}sf`,
      'FORMAT': 'image/png',
      'TRANSPARENT': 'TRUE',
    },
    ratio: 1,
    serverType: 'geoserver',
    visible: false,
    opacity: 0.25,
    navigation: true,
  },
  {
    siteTags: ['adventureconditions'],
    id: 'us-fire-danger',
    type: 'arcgisrestmapeserver',
    endpoint: 'https://firedanger.cr.usgs.gov/arcgis/rest/services/Greenness/USGS_Greenness/MapServer',
    params: {
      LAYERS: 'show:29',
      'dpi': 96,
      'transparent': true,
      'format': 'png8',
      'imageSR': '102100',
    },
    ratio: 1.5,
    visible: false,
    opacity: 0.25,
  },
  {
    siteTags: ['adventureconditions', 'hurricaneconditions'],
    id: 'noaa-radar',
    type: 'arcgisrestmapeserver',
    endpoint: 'https://idpgis.ncep.noaa.gov/arcgis/rest/services/NWS_Observations/radar_base_reflectivity/MapServer/',
    params: {
      'layers': 'show:3',
      'dpi': 96,
      'transparent': true,
      'format': 'png32',
      'imageSR': '102100',
    },
    ratio: 1.5,
    visible: true,
    opacity: 0.75,
  },
  {
    siteTags: ['bcfiremap', 'adventureconditions', 'hurricaneconditions'],
    id: 'wind-conditions',
    type: 'imagewms',
    endpoint: 'http://geo.weather.gc.ca/geomet?VERSION=1.3.0',
    params: {
      'SERVICE': 'WMS',
      'LAYERS': 'GDPS.ETA_UU',
      'FORMAT': 'image/png',
      'TRANSPARENT': 'TRUE',
      'CRS': 'EPSG:3857',
    },
    ratio: 1,
    visible: false,
    opacity: 0.75,
    icon: '<span class="fa-stack fa-lg">' +
          '<i class="fas fa-cloud fa-fw fa-stack-2x 2x"></i>' +
          '<i class="fas fa-arrow-right fa-fw fa-stack-1x" style="color: #ffffff"></i>' +
          '</span>',
  },
  {
    siteTags: ['bcfiremap', 'adventureconditions', 'hurricaneconditions'],
    id: 'emulated-lightning-density',
    type: 'arcgisrestmapeserver',
    endpoint: 'https://nowcoast.noaa.gov/arcgis/rest/services/nowcoast/sat_meteo_emulated_imagery_lightningstrikedensity_goes_time/MapServer',
    params: {
      LAYERS: 'show:3',
    },
    ratio: 1.5,
    visible: false,
    opacity: 1,
  },
  {
    siteTags: ['bcfiremap', 'adventureconditions', 'hurricaneconditions'],
    id: 'here-live-traffic',
    type: 'xyz',
    endpoint: 'https://{1-4}.traffic.maps.api.here.com' +
    '/maptile/2.1/flowtile/newest/normal.traffic.day/{z}/{x}/{y}/256/png' +
    '?app_id=GSPhia0Z9VPsKdCPYnHG&app_code=E6tKhHYbjg9MaObtpABhVQ',
    visible: true,
    opacity: 1,
  },
];
